# Proxy Feature

## Overview

The proxy feature allows you to run the Leonardo.Ai devtools panel in two browser tabs/windows and proxy requests from one tab to the other.

The proxy feature is useful for testing production Apollo Client requests in a development environment. You can open the extension in two browser tabs/windows and proxy requests from one tab to the other.

The proxy option is accessed via the new "Proxy Data" tab in the dev tools panel, which appears next to the "Mock Data" tab. This is greyed out if a mock data is selected. When proxy data is selected the "mock data" tab is disabled.

In the proxy tab a list of other instances of the extension is shown. The url on which the extension is running is shown. When the user selects an instance [target] the proxy is applied.

Every operation request while the proxy is enabled is proxied to the selected instance [target]. The operation request is the query, variables, and operation name. The response is returned to the original tab [source] and used just like mocked data.

When the operation is run in the [target] tab headers and request from the [source] tab are not passed through. The [target] tab uses the original request url, method and headers to ensure the request is valid.

If the [target] tab is refreshed the proxy is disabled and the "Proxy Data" tab is greyed out.

The colour scheme of a proxy is orange, so when we proxy data we should use orange for the "P" badge and the toast notification that displays when data is proxied.

## Summary

Proxied data is used just like mocked data. The only difference is that the request is proxied to a different instance of the extension instead of generated by data.
